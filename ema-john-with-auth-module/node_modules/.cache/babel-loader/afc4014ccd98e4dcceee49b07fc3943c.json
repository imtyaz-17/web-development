{"ast":null,"code":"import { getStoredCart } from \"../utilities/fakedb\";\nexport const productsAndCartLoader = async () => {\n  // get Products\n  const productsData = await fetch('products.json');\n  const products = await productsData.json(); // get cart\n\n  const savedCart = getStoredCart();\n  const initialCart = [];\n\n  for (const id in savedCart) {\n    const addedProduct = products.find(product => product.id === id);\n\n    if (addedProduct) {\n      const quantity = savedCart[id];\n      addedProduct.quantity = quantity;\n      initialCart.push(addedProduct);\n    }\n  }\n\n  return {\n    products: products,\n    initialCart: initialCart\n  };\n};","map":{"version":3,"names":["getStoredCart","productsAndCartLoader","productsData","fetch","products","json","savedCart","initialCart","id","addedProduct","find","product","quantity","push"],"sources":["H:/Web Development/web-development/ema-john-with-router-module-53/src/loaders/productsAndCartLoader.js"],"sourcesContent":["import { getStoredCart } from \"../utilities/fakedb\";\r\n\r\nexport const productsAndCartLoader = async () => {\r\n    // get Products\r\n    const productsData = await fetch('products.json');\r\n    const products = await productsData.json();\r\n\r\n    // get cart\r\n    const savedCart = getStoredCart();\r\n    const initialCart = [];\r\n    \r\n    for (const id in savedCart) {\r\n        const addedProduct = products.find(product => product.id === id);\r\n        if (addedProduct) {\r\n            const quantity = savedCart[id];\r\n            addedProduct.quantity = quantity;\r\n            initialCart.push(addedProduct);\r\n        }\r\n    }\r\n\r\n    return { products: products, initialCart: initialCart };\r\n}"],"mappings":"AAAA,SAASA,aAAT,QAA8B,qBAA9B;AAEA,OAAO,MAAMC,qBAAqB,GAAG,YAAY;EAC7C;EACA,MAAMC,YAAY,GAAG,MAAMC,KAAK,CAAC,eAAD,CAAhC;EACA,MAAMC,QAAQ,GAAG,MAAMF,YAAY,CAACG,IAAb,EAAvB,CAH6C,CAK7C;;EACA,MAAMC,SAAS,GAAGN,aAAa,EAA/B;EACA,MAAMO,WAAW,GAAG,EAApB;;EAEA,KAAK,MAAMC,EAAX,IAAiBF,SAAjB,EAA4B;IACxB,MAAMG,YAAY,GAAGL,QAAQ,CAACM,IAAT,CAAcC,OAAO,IAAIA,OAAO,CAACH,EAAR,KAAeA,EAAxC,CAArB;;IACA,IAAIC,YAAJ,EAAkB;MACd,MAAMG,QAAQ,GAAGN,SAAS,CAACE,EAAD,CAA1B;MACAC,YAAY,CAACG,QAAb,GAAwBA,QAAxB;MACAL,WAAW,CAACM,IAAZ,CAAiBJ,YAAjB;IACH;EACJ;;EAED,OAAO;IAAEL,QAAQ,EAAEA,QAAZ;IAAsBG,WAAW,EAAEA;EAAnC,CAAP;AACH,CAnBM"},"metadata":{},"sourceType":"module"}